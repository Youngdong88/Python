# 네이버 영화 제목과 평점 출력
from bs4 import BeautifulSoup
import pandas as pd
import urllib.request
import urllib.parse

url = "https://movie.naver.com/movie/sdb/rank/rmovie.nhn?sel=cur&date=20190221"
with urllib.request.urlopen(url) as response:
    html = response.read()
    soup = BeautifulSoup(html, 'html.parser')

titles = soup.find_all('div', {'class': 'tit5'})
ratings = soup.find_all('td', {'class': 'point'})

movie = []
for i in range(0, 40):
    movie.append([titles[i].a.string, ratings[i].string])
    
df = pd.DataFrame(movie)

# 그래프로 표현하기
df = pd.DataFrame(movie, columns = ['title', 'rating'])

import matplotlib.pyplot as plt
x = list(df['title'].head())
y = list(df['rating'].head().astype(float))
plt.plot(x, y)
plt.show()
